(()=>{"use strict";const e=document.querySelector("body"),t=document.querySelector(".header__checkbox"),r=document.querySelector(".header__checkbox-ball"),o=document.querySelector(".header__checkbox-label"),s=document.querySelector(".name"),n=document.querySelectorAll(".timer__numbers"),c=document.querySelectorAll(".timer__title"),l=document.getElementById("days"),a=document.getElementById("hours"),i=document.getElementById("minutes"),u=document.getElementById("seconds"),h=document.querySelector(".footer"),_=document.querySelectorAll(".footer__link"),d=(new Date).getHours(),g=(new Date).getMinutes();function m(e){return e>0&&e<10?`0${e}`:e}function f(){e.classList.toggle("body_theme_light"),o.classList.toggle("header__checkbox-label_checked"),r.classList.toggle("header__checkbox-ball_checked"),s.classList.toggle("name_theme_light"),n.forEach((e=>e.classList.toggle("timer__numbers_theme_light"))),c.forEach((e=>e.classList.toggle("timer__title_theme_light"))),h.classList.toggle("footer_theme_light"),_.forEach((e=>e.classList.toggle("footer__link_theme_light")))}const p=new class{constructor(e){this._apiUrl=e.apiUrl,this._headers=e.headers}_getRes(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_request(e,t){return fetch(`${this._apiUrl}/${e}`,t).then(this._getRes)}getUserLocation(){return this._request("ipgeo?apiKey=8ffa38ec677445779ee783968bee7e3e",{method:"GET"})}}({apiUrl:"https://api.ipgeolocation.io"}),y=new class{constructor(e){this._apiUrl=e.apiUrl,this._headers=e.headers}_getRes(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_request(e,t){return fetch(`${this._apiUrl}/${e}`,t).then(this._getRes)}getSunriseSunsetData(e,t){return this._request(`json?lat=${e}&lng=${t}`,{method:"GET"})}}({apiUrl:"https://api.sunrise-sunset.org"});function E(e){const[t,r]=e.split(" ");let[o,s]=t.split(":");return"12"===o&&(o="00"),"PM"===r&&(o=parseInt(o,10)+12),`${m(o)}:${m(s)}`}!function(e){const t=setInterval(r,1e3);function r(){const e=function(e){const t=Date.parse(new Date)-Date.parse(e)-18e6;let r=0,o=0,s=0,n=0,c=0;return t>0&&(r=Math.floor(t/1e3/60/60/24),Math.floor(t/1e3/60/60/24/7),o=Math.floor(t/1e3/60/60%24),s=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60)),{total:t,days:r,hours:o,minutes:s,seconds:n}}("2022-02-24");e.total<=0&&clearInterval(t),l.textContent=m(e.days),a.textContent=m(e.hours),i.textContent=m(e.minutes),u.textContent=m(e.seconds)}r()}(),p.getUserLocation().then((e=>y.getSunriseSunsetData(e.latitude,e.longitude).then((e=>{const t=E(e.results.sunrise),r=E(e.results.astronomical_twilight_end);!function(e,t,r,o){const s=`${m(e)}:${m(t)}`;s>=r&&s<=o&&f()}(d,g,t,r)})).catch((e=>console.error("Error:",e))))).catch((e=>console.error("Error:",e))),t.addEventListener("change",f),r.addEventListener("click",f)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6Im1CQUNPLE1BQU1BLEVBQU9DLFNBQVNDLGNBQWMsUUFFOUJDLEVBQVdGLFNBQVNDLGNBQWMscUJBQ2xDRSxFQUFlSCxTQUFTQyxjQUFjLDBCQUN0Q0csRUFBZ0JKLFNBQVNDLGNBQWMsMkJBRXZDSSxFQUFjTCxTQUFTQyxjQUFjLFNBQ3JDSyxFQUFlTixTQUFTTyxpQkFBaUIsbUJBQ3pDQyxFQUFjUixTQUFTTyxpQkFBaUIsaUJBQ3hDRSxFQUFPVCxTQUFTVSxlQUFlLFFBQy9CQyxFQUFRWCxTQUFTVSxlQUFlLFNBQ2hDRSxFQUFVWixTQUFTVSxlQUFlLFdBQ2xDRyxFQUFVYixTQUFTVSxlQUFlLFdBRWxDSSxFQUFTZCxTQUFTQyxjQUFjLFdBQ2hDYyxFQUFjZixTQUFTTyxpQkFBaUIsaUJBR3hDUyxHQUFlLElBQUlDLE1BQU9DLFdBQzFCQyxHQUFpQixJQUFJRixNQUFPRyxhQ01sQyxTQUFTQyxFQUFRQyxHQUN0QixPQUFJQSxFQUFNLEdBQUtBLEVBQU0sR0FDVCxJQUFHQSxJQUVOQSxDQUVYLENDbkJPLFNBQVNDLElBQ2R4QixFQUFLeUIsVUFBVUMsT0FBTyxvQkFDdEJyQixFQUFjb0IsVUFBVUMsT0FBTyxrQ0FDL0J0QixFQUFhcUIsVUFBVUMsT0FBTyxpQ0FDOUJwQixFQUFZbUIsVUFBVUMsT0FBTyxvQkFDN0JuQixFQUFhb0IsU0FBUUMsR0FBVUEsRUFBT0gsVUFBVUMsT0FBTyxnQ0FDdkRqQixFQUFZa0IsU0FBUUUsR0FBU0EsRUFBTUosVUFBVUMsT0FBTyw4QkFDcERYLEVBQU9VLFVBQVVDLE9BQU8sc0JBQ3hCVixFQUFZVyxTQUFRRyxHQUFRQSxFQUFLTCxVQUFVQyxPQUFPLDZCQUNwRCxDQ2ZBLE1BQU1LLEVBQWMsSUNQTCxNQUNiQyxZQUFZQyxHQUNWQyxLQUFLQyxRQUFVRixFQUFLRyxPQUNwQkYsS0FBS0csU0FBV0osRUFBS0ssT0FDdkIsQ0FFQUMsUUFBUUMsR0FDTixPQUFRQSxFQUFJQyxHQUFLRCxFQUFJRSxPQUFTQyxRQUFRQyxPQUFRLFVBQVNKLEVBQUlLLFNBQzdELENBRUFDLFNBQVVDLEVBQUtDLEdBQ2IsT0FBT0MsTUFBTyxHQUFFZixLQUFLQyxXQUFXWSxJQUFPQyxHQUFTRSxLQUFLaEIsS0FBS0ssUUFDNUQsQ0FFQVksa0JBQ0UsT0FBT2pCLEtBQUtZLFNBQVUsZ0RBQWdELENBQUVNLE9BQVEsT0FDbEYsR0RUbUMsQ0FDbkNoQixPQUFRLGlDQUVKaUIsRUFBbUIsSUVWVixNQUNickIsWUFBWUMsR0FDVkMsS0FBS0MsUUFBVUYsRUFBS0csT0FDcEJGLEtBQUtHLFNBQVdKLEVBQUtLLE9BQ3ZCLENBRUFDLFFBQVFDLEdBQ04sT0FBUUEsRUFBSUMsR0FBS0QsRUFBSUUsT0FBU0MsUUFBUUMsT0FBUSxVQUFTSixFQUFJSyxTQUM3RCxDQUVBQyxTQUFVQyxFQUFLQyxHQUNiLE9BQU9DLE1BQU8sR0FBRWYsS0FBS0MsV0FBV1ksSUFBT0MsR0FBU0UsS0FBS2hCLEtBQUtLLFFBQzVELENBRUFlLHFCQUFxQkMsRUFBVUMsR0FDN0IsT0FBT3RCLEtBQUtZLFNBQVUsWUFBV1MsU0FBZ0JDLElBQWEsQ0FBQ0osT0FBUSxPQUN6RSxHRk42QyxDQUM3Q2hCLE9BQVEsbUNBSVYsU0FBU3FCLEVBQWFDLEdBQ3BCLE1BQU9DLEVBQU1DLEdBQVlGLEVBQVFHLE1BQU0sS0FDdkMsSUFBS2pELEVBQU9DLEdBQVc4QyxFQUFLRSxNQUFNLEtBUWxDLE1BUGMsT0FBVmpELElBQ0ZBLEVBQVEsTUFFTyxPQUFiZ0QsSUFDRmhELEVBQVFrRCxTQUFTbEQsRUFBTyxJQUFNLElBR3hCLEdBQUVVLEVBQVFWLE1BQVVVLEVBQVFULElBQ3RDLEVGUU8sU0FBa0JrRCxHQUN2QixNQUFNQyxFQUFlQyxZQUFZQyxFQUFhLEtBQzlDLFNBQVNBLElBQ1AsTUFBTUMsRUFsQ1YsU0FBdUJKLEdBQ3JCLE1BQU1JLEVBQUlqRCxLQUFLa0QsTUFBTSxJQUFJbEQsTUFBVUEsS0FBS2tELE1BQU1MLEdBQVcsS0FDekQsSUFBSXJELEVBQU8sRUFDVEUsRUFBUSxFQUNSQyxFQUFVLEVBQ1ZDLEVBQVUsRUFDVnVELEVBQVEsRUFRVixPQVBJRixFQUFJLElBQ056RCxFQUFPNEQsS0FBS0MsTUFBTUosRUFBSSxJQUFPLEdBQUssR0FBSyxJQUMvQkcsS0FBS0MsTUFBTUosRUFBSSxJQUFPLEdBQUssR0FBSyxHQUFLLEdBQzdDdkQsRUFBUTBELEtBQUtDLE1BQU1KLEVBQUksSUFBTyxHQUFLLEdBQUssSUFDeEN0RCxFQUFVeUQsS0FBS0MsTUFBTUosRUFBSSxJQUFPLEdBQUssSUFDckNyRCxFQUFVd0QsS0FBS0MsTUFBTUosRUFBSSxJQUFPLEtBRTNCLENBQ0wsTUFBVUEsRUFDVixLQUFTekQsRUFDVCxNQUFVRSxFQUNWLFFBQVlDLEVBQ1osUUFBWUMsRUFFaEIsQ0FhYzBELENEbkJXLGNDb0JqQkwsRUFBRU0sT0FBUyxHQUNYQyxjQUFjVixHQUVsQnRELEVBQUtpRSxZQUFjckQsRUFBUTZDLEVBQUV6RCxNQUM3QkUsRUFBTStELFlBQWNyRCxFQUFRNkMsRUFBRXZELE9BQzlCQyxFQUFROEQsWUFBY3JELEVBQVE2QyxFQUFFdEQsU0FDaENDLEVBQVE2RCxZQUFjckQsRUFBUTZDLEVBQUVyRCxRQUNsQyxDQUNBb0QsR0FDRixDS3ZDQVUsR0hxQlM3QyxFQUFZb0Isa0JBQ2hCRCxNQUFLVixHQUNHYSxFQUFpQkMscUJBQXFCZCxFQUFJZSxTQUFVZixFQUFJZ0IsV0FDOUROLE1BQUtWLElBQ0osTUFBTXFDLEVBQWNwQixFQUFZakIsRUFBSXNDLFFBQVFDLFNBQ3RDQyxFQUFhdkIsRUFBWWpCLEVBQUlzQyxRQUFRRyw0QkRWNUMsU0FBbUJoRSxFQUFjRyxFQUFnQnlELEVBQWFHLEdBQ25FLE1BQU1FLEVBQWUsR0FBRTVELEVBQVFMLE1BQWlCSyxFQUFRRixLQUNwRDhELEdBQWVMLEdBQWVLLEdBQWVGLEdBQy9DeEQsR0FFSixDQ01RMkQsQ0FBU2xFLEVBQWNHLEVBQWdCeUQsRUFBYUcsRUFBVyxJQUVoRUksT0FBTUMsR0FBU0MsUUFBUUQsTUFBTSxTQUFVQSxPQUV6Q0QsT0FBTUMsR0FBU0MsUUFBUUQsTUFBTSxTQUFVQSxLRzNCNUNsRixFQUFTb0YsaUJBQWlCLFNBQVUvRCxHQUNwQ3BCLEVBQWFtRixpQkFBaUIsUUFBUy9ELEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YXItdGltZXIvLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2FyLXRpbWVyLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9jbG9ja1NldHRlci5qcyIsIndlYnBhY2s6Ly93YXItdGltZXIvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL3RoZW1lU3dpdGNoZXIuanMiLCJ3ZWJwYWNrOi8vd2FyLXRpbWVyLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy91c2VyTG9jYXRpb25UaGVtZVNldHRlci5qcyIsIndlYnBhY2s6Ly93YXItdGltZXIvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaUxvY2F0aW9uLmpzIiwid2VicGFjazovL3dhci10aW1lci8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBpU3VucmlzZVN1bnNldC5qcyIsIndlYnBhY2s6Ly93YXItdGltZXIvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gUEFHRVxuZXhwb3J0IGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4vLyBIRUFERVJcbmV4cG9ydCBjb25zdCBjaGVja0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2NoZWNrYm94Jyk7XG5leHBvcnQgY29uc3QgY2hlY2tCb3hCYWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fY2hlY2tib3gtYmFsbCcpO1xuZXhwb3J0IGNvbnN0IGNoZWNrQm94TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19jaGVja2JveC1sYWJlbCcpO1xuLy8gTkFNRSAmIFRJTUVSXG5leHBvcnQgY29uc3QgY29udGVudE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmFtZScpO1xuZXhwb3J0IGNvbnN0IHRpbWVyTnVtYmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50aW1lcl9fbnVtYmVycycpO1xuZXhwb3J0IGNvbnN0IHRpbWVyVGl0bGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRpbWVyX190aXRsZScpO1xuZXhwb3J0IGNvbnN0IGRheXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF5cycpO1xuZXhwb3J0IGNvbnN0IGhvdXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvdXJzJyk7XG5leHBvcnQgY29uc3QgbWludXRlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaW51dGVzJyk7IFxuZXhwb3J0IGNvbnN0IHNlY29uZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vjb25kcycpO1xuLy8gRk9PVEVSXG5leHBvcnQgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3RlcicpXG5leHBvcnQgY29uc3QgZm9vdGVyTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9vdGVyX19saW5rJylcbi8vIERBVEUgJiBUSU1FXG5leHBvcnQgY29uc3QgZGVhdGhEYXRlID0gJzIwMjItMDItMjQnO1xuZXhwb3J0IGNvbnN0IGN1cnJlbnRIb3VycyA9IG5ldyBEYXRlKCkuZ2V0SG91cnMoKTtcbmV4cG9ydCBjb25zdCBjdXJyZW50TWludXRlcyA9IG5ldyBEYXRlKCkuZ2V0TWludXRlcygpOyIsImltcG9ydCB7ZGF5cywgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHN9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIlxuXG4vLyBQQVNTRUQgVElNRSBHRVRURVJcbmZ1bmN0aW9uIGdldFRpbWVQYXNzZWQoZW5kdGltZSkge1xuICBjb25zdCB0ID0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKSAtIERhdGUucGFyc2UoZW5kdGltZSkgLSAxODAwMDAwMDtcbiAgbGV0IGRheXMgPSAwLFxuICAgIGhvdXJzID0gMCxcbiAgICBtaW51dGVzID0gMCxcbiAgICBzZWNvbmRzID0gMCxcbiAgICB3ZWVrcyA9IDA7XG4gIGlmICh0ID4gMCkge1xuICAgIGRheXMgPSBNYXRoLmZsb29yKHQgLyAxMDAwIC8gNjAgLyA2MCAvIDI0KTtcbiAgICB3ZWVrcyA9IE1hdGguZmxvb3IodCAvIDEwMDAgLyA2MCAvIDYwIC8gMjQgLyA3KTtcbiAgICBob3VycyA9IE1hdGguZmxvb3IodCAvIDEwMDAgLyA2MCAvIDYwICUgMjQpO1xuICAgIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHQgLyAxMDAwIC8gNjAgJSA2MCk7XG4gICAgc2Vjb25kcyA9IE1hdGguZmxvb3IodCAvIDEwMDAgJSA2MCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAndG90YWwnIDogdCxcbiAgICAnZGF5cycgOiBkYXlzLFxuICAgICdob3VycycgOiBob3VycyxcbiAgICAnbWludXRlcycgOiBtaW51dGVzLFxuICAgICdzZWNvbmRzJyA6IHNlY29uZHNcbiAgfTtcbn1cbi8vIFpFUk8gU0VUVEVSXG5leHBvcnQgZnVuY3Rpb24gc2V0WmVybyhudW0pIHtcbiAgaWYgKG51bSA+IDAgJiYgbnVtIDwgMTApIHtcbiAgICAgIHJldHVybiBgMCR7bnVtfWA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bTtcbiAgICB9IFxufVxuLy8gVElNRSBTRVRURVJcbmV4cG9ydCBmdW5jdGlvbiBzZXRDbG9jayhlbmR0aW1lKXtcbiAgY29uc3QgdGltZUludGVydmFsID0gc2V0SW50ZXJ2YWwodXBkYXRlQ2xvY2ssIDEwMDApO1xuICBmdW5jdGlvbiB1cGRhdGVDbG9jaygpe1xuICAgIGNvbnN0IHQgPSBnZXRUaW1lUGFzc2VkKGVuZHRpbWUpO1xuICAgIGlmICh0LnRvdGFsIDw9IDApIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lSW50ZXJ2YWwpO1xuICAgIH1cbiAgICBkYXlzLnRleHRDb250ZW50ID0gc2V0WmVybyh0LmRheXMpO1xuICAgIGhvdXJzLnRleHRDb250ZW50ID0gc2V0WmVybyh0LmhvdXJzKTtcbiAgICBtaW51dGVzLnRleHRDb250ZW50ID0gc2V0WmVybyh0Lm1pbnV0ZXMpO1xuICAgIHNlY29uZHMudGV4dENvbnRlbnQgPSBzZXRaZXJvKHQuc2Vjb25kcyk7XG4gIH0gXG4gIHVwZGF0ZUNsb2NrKCk7ICAgICAgXG59IiwiaW1wb3J0IHtcbiAgYm9keSxcbiAgY2hlY2tCb3hMYWJlbCxcbiAgY2hlY2tCb3hCYWxsLFxuICBjb250ZW50TmFtZSxcbiAgdGltZXJOdW1iZXJzLFxuICB0aW1lclRpdGxlcyxcbiAgZm9vdGVyLFxuICBmb290ZXJMaW5rc1xufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBzZXRaZXJvIH0gZnJvbSBcIi4vY2xvY2tTZXR0ZXIuanNcIjtcblxuLy8gVEhFTUUgU1dJVENIRVJcbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hUaGVtZSAoKSB7XG4gIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnYm9keV90aGVtZV9saWdodCcpO1xuICBjaGVja0JveExhYmVsLmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlcl9fY2hlY2tib3gtbGFiZWxfY2hlY2tlZCcpO1xuICBjaGVja0JveEJhbGwuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyX19jaGVja2JveC1iYWxsX2NoZWNrZWQnKTsgICAgXG4gIGNvbnRlbnROYW1lLmNsYXNzTGlzdC50b2dnbGUoJ25hbWVfdGhlbWVfbGlnaHQnKTtcbiAgdGltZXJOdW1iZXJzLmZvckVhY2gobnVtYmVyID0+IG51bWJlci5jbGFzc0xpc3QudG9nZ2xlKCd0aW1lcl9fbnVtYmVyc190aGVtZV9saWdodCcpKTtcbiAgdGltZXJUaXRsZXMuZm9yRWFjaCh0aXRsZSA9PiB0aXRsZS5jbGFzc0xpc3QudG9nZ2xlKCd0aW1lcl9fdGl0bGVfdGhlbWVfbGlnaHQnKSk7XG4gIGZvb3Rlci5jbGFzc0xpc3QudG9nZ2xlKCdmb290ZXJfdGhlbWVfbGlnaHQnKTtcbiAgZm9vdGVyTGlua3MuZm9yRWFjaChsaW5rID0+IGxpbmsuY2xhc3NMaXN0LnRvZ2dsZSgnZm9vdGVyX19saW5rX3RoZW1lX2xpZ2h0JykpXG59XG4vLyBUSEVNRSBTRVRURVJcbmV4cG9ydCBmdW5jdGlvbiBzZXRUaGVtZSAoY3VycmVudEhvdXJzLCBjdXJyZW50TWludXRlcywgc3VucmlzZVRpbWUsIHN1bnNldFRpbWUpIHtcbiAgY29uc3QgY3VycmVudFRpbWUgPSBgJHtzZXRaZXJvKGN1cnJlbnRIb3Vycyl9OiR7c2V0WmVybyhjdXJyZW50TWludXRlcyl9YFxuICBpZiAoY3VycmVudFRpbWUgPj0gc3VucmlzZVRpbWUgJiYgY3VycmVudFRpbWUgPD0gc3Vuc2V0VGltZSApIHtcbiAgICBzd2l0Y2hUaGVtZSgpO1xuICB9XG59IiwiaW1wb3J0IHsgY3VycmVudEhvdXJzLCBjdXJyZW50TWludXRlcyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIlxuaW1wb3J0IEFwaUxvY2F0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaUxvY2F0aW9uLmpzXCJcbmltcG9ydCBBcGlTdW5yaXNlU3Vuc2V0IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaVN1bnJpc2VTdW5zZXRcIlxuaW1wb3J0IHsgc2V0VGhlbWUgfSBmcm9tIFwiLi90aGVtZVN3aXRjaGVyLmpzXCJcbmltcG9ydCB7IHNldFplcm8gfSBmcm9tIFwiLi9jbG9ja1NldHRlci5qc1wiXG5cbi8vIC8vIEFQSVxuY29uc3QgYXBpTG9jYXRpb24gPSBuZXcgQXBpTG9jYXRpb24gKHtcbiAgYXBpVXJsOiAnaHR0cHM6Ly9hcGkuaXBnZW9sb2NhdGlvbi5pbydcbn0pXG5jb25zdCBhcGlTdW5yaXNlU3Vuc2V0ID0gbmV3IEFwaVN1bnJpc2VTdW5zZXQgKHtcbiAgYXBpVXJsOiAnaHR0cHM6Ly9hcGkuc3VucmlzZS1zdW5zZXQub3JnJ1xufSlcblxuLy8gMTJIIFRPIDI0SCBDT05WRVJURVJcbmZ1bmN0aW9uIGNvbnZlcnRUaW1lICh0aW1lU3RyKSB7XG4gIGNvbnN0IFt0aW1lLCBtb2RpZmllcl0gPSB0aW1lU3RyLnNwbGl0KCcgJyk7XG4gIGxldCBbaG91cnMsIG1pbnV0ZXNdID0gdGltZS5zcGxpdCgnOicpO1xuICBpZiAoaG91cnMgPT09ICcxMicpIHtcbiAgICBob3VycyA9ICcwMCc7XG4gIH1cbiAgaWYgKG1vZGlmaWVyID09PSAnUE0nKSB7XG4gICAgaG91cnMgPSBwYXJzZUludChob3VycywgMTApICsgMTI7XG4gIH1cblxuICByZXR1cm4gYCR7c2V0WmVybyhob3Vycyl9OiR7c2V0WmVybyhtaW51dGVzKX1gXG59XG4vLyBBVVRPIFNVTlNFVCAmIFNVTlJJU0UgVEhFTUUgU0VUVEVSXG5leHBvcnQgZnVuY3Rpb24gc2V0VXNlckxvY2F0aW9uVGhlbWUoKSB7XG4gIHJldHVybiBhcGlMb2NhdGlvbi5nZXRVc2VyTG9jYXRpb24oKVxuICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICByZXR1cm4gYXBpU3VucmlzZVN1bnNldC5nZXRTdW5yaXNlU3Vuc2V0RGF0YShyZXMubGF0aXR1ZGUsIHJlcy5sb25naXR1ZGUpXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICBjb25zdCBzdW5yaXNlVGltZSA9IGNvbnZlcnRUaW1lKHJlcy5yZXN1bHRzLnN1bnJpc2UpXG4gICAgICAgIGNvbnN0IHN1bnNldFRpbWUgPSBjb252ZXJ0VGltZShyZXMucmVzdWx0cy5hc3Ryb25vbWljYWxfdHdpbGlnaHRfZW5kKVxuICAgICAgICBzZXRUaGVtZShjdXJyZW50SG91cnMsIGN1cnJlbnRNaW51dGVzLCBzdW5yaXNlVGltZSwgc3Vuc2V0VGltZSlcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpKVxuICAgIH0pXG4gICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKSlcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGlMb2NhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpe1xuICAgIHRoaXMuX2FwaVVybCA9IGRhdGEuYXBpVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBkYXRhLmhlYWRlcnNcbiAgfVxuICAvLyDRhNGD0L3QutGG0LjRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0L7RgtCy0LXRgtCwINC4INC/0YDQtdC+0LHRgNCw0LfQvtCy0LDQvdC40Y8g0LXQs9C+INCyINC+0LHRitC10LrRglxuICBfZ2V0UmVzKHJlcykge1xuICAgIHJldHVybiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApKVxuICB9XG4gIC8vINGE0YPQvdC60YbQuNGPINC+0YLQv9GA0LDQstC60LggZmV0Y2gg0LfQsNC/0YDQvtGB0LBcbiAgX3JlcXVlc3QgKHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9hcGlVcmx9LyR7dXJsfWAsIG9wdGlvbnMpLnRoZW4odGhpcy5fZ2V0UmVzKVxuICB9XG4gIC8vINGE0YPQvdC60YbQuNGPINC/0L7Qu9GD0YfQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgZ2V0VXNlckxvY2F0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGBpcGdlbz9hcGlLZXk9OGZmYTM4ZWM2Nzc0NDU3NzllZTc4Mzk2OGJlZTdlM2VgLCB7IG1ldGhvZDogJ0dFVCcgfSlcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaVN1bnJpc2VTdW5zZXQge1xuICBjb25zdHJ1Y3RvcihkYXRhKXtcbiAgICB0aGlzLl9hcGlVcmwgPSBkYXRhLmFwaVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gZGF0YS5oZWFkZXJzXG4gIH1cbiAgLy8g0YTRg9C90LrRhtC40Y8g0L/QvtC70YPRh9C10L3QuNGPINC+0YLQstC10YLQsCDQuCDQv9GA0LXQvtCx0YDQsNC30L7QstCw0L3QuNGPINC10LPQviDQsiDQvtCx0YrQtdC60YJcbiAgX2dldFJlcyhyZXMpIHtcbiAgICByZXR1cm4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKSlcbiAgfVxuICAvLyDRhNGD0L3QutGG0LjRjyDQvtGC0L/RgNCw0LLQutC4IGZldGNoINC30LDQv9GA0L7RgdCwXG4gIF9yZXF1ZXN0ICh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYXBpVXJsfS8ke3VybH1gLCBvcHRpb25zKS50aGVuKHRoaXMuX2dldFJlcylcbiAgfVxuICAvLyDRhNGD0L3QutGG0LjRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gIGdldFN1bnJpc2VTdW5zZXREYXRhKGxhdGl0dWRlLCBsb25naXR1ZGUpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChganNvbj9sYXQ9JHtsYXRpdHVkZX0mbG5nPSR7bG9uZ2l0dWRlfWAsIHttZXRob2Q6ICdHRVQnfSlcbiAgfVxufSIsIi8vIElNUE9SVFNcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiXG5pbXBvcnQgeyBzd2l0Y2hUaGVtZSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvdGhlbWVTd2l0Y2hlci5qc1wiXG5pbXBvcnQgeyBzZXRVc2VyTG9jYXRpb25UaGVtZSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvdXNlckxvY2F0aW9uVGhlbWVTZXR0ZXIuanNcIlxuaW1wb3J0IHsgc2V0Q2xvY2sgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL2Nsb2NrU2V0dGVyLmpzXCJcbmltcG9ydCB7IGRlYXRoRGF0ZSwgY2hlY2tCb3gsIGNoZWNrQm94QmFsbCB9IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qc1wiXG5cbi8vIEZVTkNUSU9OU1xuc2V0Q2xvY2soZGVhdGhEYXRlKTtcbnNldFVzZXJMb2NhdGlvblRoZW1lKClcblxuLy8gLy8gRVZFTlQgTElTVEVORVJTXG5jaGVja0JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzd2l0Y2hUaGVtZSk7XG5jaGVja0JveEJhbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzd2l0Y2hUaGVtZSk7Il0sIm5hbWVzIjpbImJvZHkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjaGVja0JveCIsImNoZWNrQm94QmFsbCIsImNoZWNrQm94TGFiZWwiLCJjb250ZW50TmFtZSIsInRpbWVyTnVtYmVycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0aW1lclRpdGxlcyIsImRheXMiLCJnZXRFbGVtZW50QnlJZCIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJmb290ZXIiLCJmb290ZXJMaW5rcyIsImN1cnJlbnRIb3VycyIsIkRhdGUiLCJnZXRIb3VycyIsImN1cnJlbnRNaW51dGVzIiwiZ2V0TWludXRlcyIsInNldFplcm8iLCJudW0iLCJzd2l0Y2hUaGVtZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImZvckVhY2giLCJudW1iZXIiLCJ0aXRsZSIsImxpbmsiLCJhcGlMb2NhdGlvbiIsImNvbnN0cnVjdG9yIiwiZGF0YSIsInRoaXMiLCJfYXBpVXJsIiwiYXBpVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2dldFJlcyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJfcmVxdWVzdCIsInVybCIsIm9wdGlvbnMiLCJmZXRjaCIsInRoZW4iLCJnZXRVc2VyTG9jYXRpb24iLCJtZXRob2QiLCJhcGlTdW5yaXNlU3Vuc2V0IiwiZ2V0U3VucmlzZVN1bnNldERhdGEiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImNvbnZlcnRUaW1lIiwidGltZVN0ciIsInRpbWUiLCJtb2RpZmllciIsInNwbGl0IiwicGFyc2VJbnQiLCJlbmR0aW1lIiwidGltZUludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ1cGRhdGVDbG9jayIsInQiLCJwYXJzZSIsIndlZWtzIiwiTWF0aCIsImZsb29yIiwiZ2V0VGltZVBhc3NlZCIsInRvdGFsIiwiY2xlYXJJbnRlcnZhbCIsInRleHRDb250ZW50Iiwic2V0Q2xvY2siLCJzdW5yaXNlVGltZSIsInJlc3VsdHMiLCJzdW5yaXNlIiwic3Vuc2V0VGltZSIsImFzdHJvbm9taWNhbF90d2lsaWdodF9lbmQiLCJjdXJyZW50VGltZSIsInNldFRoZW1lIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJhZGRFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==